<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="retrieved.js" type="module"></script>
    <script type="module">
        import { zastavka } from './retrieved.js';

        document.addEventListener("DOMContentLoaded", function() {
            const tableBody = document.getElementById('zastavka');

            // filtering and displaying rows based on the button clicked
            function filterRows(type) {
                // clearing existing content in the table body
                tableBody.innerHTML = '';

                zastavka.forEach(data => {
                    const row = document.createElement('tr');
                    let shouldDisplay = false;

                    data.forEach((cellData, index) => {
                        const cell = document.createElement('td');
                        cell.textContent = cellData.join(' / ');
                        row.appendChild(cell);

                        if (index === 0 && !isNaN(parseInt(cellData))) {
                            const number = parseInt(cellData);
                            if ((type === 'tram' && number < 10) || (type === 'bus' && number >= 10) || type === 'all') {
                                shouldDisplay = true;
                            }
                        }
                    });

                    if (shouldDisplay) {
                        tableBody.appendChild(row);
                    }
                });
            }

            // buttons event listeners
            const tramsButton = document.getElementById('tramsButton');
            tramsButton.addEventListener('click', function() {
                filterRows('tram');
            });

            const busesButton = document.getElementById('busesButton');
            busesButton.addEventListener('click', function() {
                filterRows('bus');
            });

            const allButton = document.getElementById('allButton');
            allButton.addEventListener('click', function() {
                filterRows('all');
            });

            // displaying trams by default
            filterRows('tram');
        });
    </script>   
    <title>Star√° nemocnica</title>
</head>
<body>
    <div class="header">
        <h3>STARA NEMOCNICA</h3>
        <div class="filter-buttons">
            <button id="tramsButton">TRAMS</button>
            <button id="busesButton">BUSES</button>
            <button id="allButton">ALL</button>
        </div>
    </div>
    <table class="table">
        <thead>
            <tr>
                <th class="line">LINE</th>
                <th class="direction">DIRECTION</th>
                <th class="departure">DEPARTURE</th>
            </tr>
        </thead>
        <tbody id="zastavka">
        </tbody>
    </table>
</body>
</html>
